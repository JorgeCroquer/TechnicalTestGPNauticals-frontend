<div class="header">
    <mat-toolbar>
        <span class="header-title">GPN Airport</span>
    </mat-toolbar>
</div>

<div class="filters">
    <div>
        <mat-form-field appearance="fill">
            <mat-label>Origen</mat-label>
            <input matInput [(ngModel)]="bindedOrigin" (keyup)="filterData()">
        </mat-form-field>
    </div>
    
    <div>
        <mat-form-field appearance="fill">
            <mat-label>Destino</mat-label>
            <input matInput [(ngModel)]="bindedDestination" (keyup)="filterData()">
        </mat-form-field>
    </div>
    
    <div>
        <mat-form-field appearance="fill">
            <mat-label>Fecha de salida</mat-label>
            <input matInput [matDatepicker]="picker" 
                            [(ngModel)]="bindedDepartureDate"
                            (dateChange)="filterData()">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
    </div>
    
    <div>
        <mat-form-field appearance="fill">
            <mat-label>Tipo de vuelo</mat-label>
            <mat-select [(ngModel)]="bindedType" (selectionChange)="filterData()">
              <mat-option *ngFor="let type of flight_types" [value]="type">
                {{type}}
              </mat-option>
            </mat-select>
          </mat-form-field>
    </div>  
</div>

<div class = "wrapper">
    
    
    <div class = "table">   
        <table mat-table matSort [dataSource]="dataSource" 
        class="mat-elevation-z8">
    
        <!-- Id Column -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>
            Número de vuelo
            </th>
            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>
    
        <!-- Datetime Column -->
        <ng-container matColumnDef="fecha/hora">
            <th mat-header-cell *matHeaderCellDef>
            Fecha/Hora
            </th>
            <td mat-cell *matCellDef="let element"> {{element.datetime.toUTCString()}} </td>
        </ng-container>
    
        <!-- Origin Column -->
        <ng-container matColumnDef="origin">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Origen
            </th>
            <td mat-cell *matCellDef="let element"> {{element.origin}} </td>
        </ng-container>
    
        <!-- Destination Column -->
        <ng-container matColumnDef="destination">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Destino
            </th>
            <td mat-cell *matCellDef="let element"> {{element.destination}} </td>
        </ng-container>
    
        <!-- Price Column -->
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Precio
            </th>
            <td mat-cell *matCellDef="let element"> {{element.price}}$ </td>
        </ng-container>
    
        <!-- Duration Column -->
        <ng-container matColumnDef="duration">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by symbol">
            Duración
            </th>
            <td mat-cell *matCellDef="let element"> {{element.duration}} min. </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>

</div>
